<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>STUDY-WORLD UDAAN</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #a21caf; /* purple-700 */
            --primary-dark: #6d28d9; /* purple-800 */
            --accent: #c026d3; /* purple-600 */
            --danger: #ef4444;
            --bg-glass: rgba(30, 41, 59, 0.7);
            --glass-blur: 12px;
            --radius: 16px;
            --shadow: 0 8px 32px rgba(30, 64, 175, 0.18);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background: linear-gradient(135deg, #fff 0%, #ede9fe 50%, #f3e8ff 100%); 
            color: #3b0764; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* Sticky Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #a21caf 0%, #c026d3 100%);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 20px rgba(30, 64, 175, 0.3);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5em;
            font-weight: 700;
        }
        
        .logo-icon {
            width: 32px;
            height: 32px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .header-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .header-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .container { 
            max-width: 1200px; 
            margin: 100px auto 40px; 
            padding: 0 20px;
            position: relative;
        }
        
        .player-wrapper {
            background: #fff;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(162, 28, 175, 0.08);
            border: 1px solid #f3e8ff;
        }
        
        h2 { 
            text-align: center; 
            letter-spacing: 1px; 
            margin-bottom: 30px; 
            font-size: 2.2em; 
            color: #1e40af;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .error { 
            color: #dc2626; 
            text-align: center; 
            margin-top: 20px; 
            font-size: 1.2em;
            background: #fef2f2;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #fecaca;
        }
        
        .info { 
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            padding: 25px; 
            border-radius: 16px; 
            margin-bottom: 30px; 
            text-align: center;
            border: 1px solid #93c5fd;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.1);
        }
        
        .info .channel { 
            color: #1e40af; 
            font-weight: bold; 
            font-size: 1.4em; 
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .info .batch { 
            color: #475569; 
            font-size: 1.1em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .video-container {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            background: #000;
            box-shadow: 0 15px 35px rgba(162, 28, 175, 0.10);
            border: 2px solid #e9d5ff;
        }
        
        video { 
            width: 100%; 
            display: block;
            border-radius: 16px;
        }
        
        .controls {
            display: flex;
            align-items: center;
            gap: 15px;
            background: linear-gradient(180deg, #f3e8ff 0%, #c026d3 100%);
            border-radius: 0 0 16px 16px;
            padding: 20px 25px;
            margin-top: -6px;
            border-top: 1px solid #e9d5ff;
        }
        
        .controls button, .controls input[type=range] {
            appearance: none;
            background: none;
            border: none;
            outline: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .controls button {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            border-radius: 50%;
            background: rgba(162, 28, 175, 0.10);
            transition: all 0.3s ease;
        }
        .controls button:hover {
            background: #a21caf;
            transform: scale(1.1);
        }
        .controls svg {
            width: 24px;
            height: 24px;
            fill: #6d28d9;
            transition: all 0.3s ease;
        }
        .controls button:hover svg {
            fill: #fff;
        }
        .controls input[type=range] {
            flex: 1;
            height: 6px;
            background: #e9d5ff;
            border-radius: 3px;
            margin: 0 15px;
            cursor: pointer;
        }
        .controls input[type=range]::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #a21caf;
            border: 3px solid #fff;
            box-shadow: 0 2px 8px rgba(162, 28, 175, 0.18);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .controls input[type=range]:hover::-webkit-slider-thumb {
            background: #6d28d9;
            transform: scale(1.2);
        }
        .controls input[type=range]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #a21caf;
            border: 3px solid #fff;
            box-shadow: 0 2px 8px rgba(162, 28, 175, 0.18);
            cursor: pointer;
        }
        .controls input[type=range]:hover::-moz-range-thumb {
            background: #6d28d9;
        }
        .controls input[type=range]::-ms-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #a21caf;
            border: 3px solid #fff;
            box-shadow: 0 2px 8px rgba(162, 28, 175, 0.18);
            cursor: pointer;
        }
        .controls input[type=range]:hover::-ms-thumb {
            background: #6d28d9;
        }
        .controls .time {
            color: #6d28d9;
            font-size: 0.95em;
            min-width: 70px;
            text-align: center;
            font-weight: 500;
        }
        .rewind-forward {
            display: flex;
            gap: 10px;
            margin-left: 10px;
        }
        .rewind-forward button {
            width: 40px;
            height: 40px;
            background: rgba(192, 38, 211, 0.10);
            border: none;
            border-radius: 50%;
            color: #a21caf;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        .rewind-forward button:hover {
            background: #a21caf;
            color: #fff;
        }
        .rewind-forward svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }
        
        /* Loading Screen */
        .loading-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(59, 130, 246, 0.2);
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: #1e40af;
            font-size: 1.2em;
            font-weight: 500;
            text-align: center;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        .loading-dots {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }
        
        .loading-dots span {
            width: 8px;
            height: 8px;
            background: #3b82f6;
            border-radius: 50%;
            animation: dots 1.4s ease-in-out infinite both;
        }
        
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        .loading-dots span:nth-child(3) { animation-delay: 0s; }
        
        @keyframes dots {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        
        .loading-progress {
            width: 200px;
            height: 4px;
            background: rgba(30, 64, 175, 0.1);
            border-radius: 2px;
            margin-top: 15px;
            overflow: hidden;
        }
        
        .loading-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1e40af);
            border-radius: 2px;
            width: 0%;
            transition: width 0.3s ease;
            animation: progress 2s ease-in-out infinite;
        }
        
        @keyframes progress {
            0% { width: 0%; }
            50% { width: 70%; }
            100% { width: 100%; }
        }
        
        .settings-menu { 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%); 
            background: white;
            border-radius: 20px; 
            padding: 0; 
            z-index: 1000; 
            min-width: 400px; 
            box-shadow: 0 25px 50px rgba(30, 64, 175, 0.2);
            border: 1px solid #e2e8f0;
        }
        
        .settings-content { 
            padding: 30px; 
        }
        
        .settings-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 25px; 
            border-bottom: 1px solid #e2e8f0; 
            padding-bottom: 15px; 
        }
        
        .settings-header h3 { 
            color: #1e40af; 
            margin: 0; 
            font-size: 1.4em; 
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .close-btn { 
            background: #f1f5f9; 
            border: none; 
            color: #64748b; 
            font-size: 24px; 
            cursor: pointer; 
            padding: 0; 
            width: 40px; 
            height: 40px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            border-radius: 50%; 
            transition: all 0.3s ease; 
        }
        
        .close-btn:hover { 
            background: #e2e8f0; 
            color: #1e40af;
            transform: scale(1.1);
        }
        
        .settings-option { 
            margin-bottom: 25px; 
        }
        
        .settings-option label { 
            display: block; 
            color: #374151; 
            margin-bottom: 10px; 
            font-size: 1em;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .settings-option select { 
            width: 100%; 
            padding: 12px 15px; 
            background: #f8fafc; 
            border: 1px solid #d1d5db; 
            border-radius: 10px; 
            color: #374151; 
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .settings-option select:focus { 
            outline: none; 
            border-color: #3b82f6; 
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        @media (max-width: 768px) {
            .header-content {
                padding: 0 15px;
            }
            
            .header-right {
                gap: 10px;
            }
            
            .header-btn {
                padding: 6px 12px;
                font-size: 0.8em;
            }
            
            .container { 
                padding: 0 15px; 
                margin-top: 90px;
            }
            
            .player-wrapper {
                padding: 20px;
            }
            
            .controls { 
                flex-wrap: wrap; 
                gap: 10px; 
                padding: 15px 20px; 
            }
            
            .controls .volume { 
                width: 80px; 
            }
            
            .rewind-forward {
                margin-left: 5px;
                gap: 5px;
            }
            
            .rewind-forward button {
                width: 35px;
                height: 35px;
            }
            
            .rewind-forward svg {
                width: 18px;
                height: 18px;
            }
            
            .live-indicator, .viewer-count {
                font-size: 0.75em;
                padding: 6px 12px;
            }
            
            h2 { 
                font-size: 1.6em; 
            }
            
            .settings-menu {
                min-width: 320px;
                margin: 0 20px;
            }
        }
        
        @media (max-width: 480px) {
            .logo {
                font-size: 1.2em;
            }
            
            .logo-icon {
                width: 28px;
                height: 28px;
            }
            
            h2 { 
                font-size: 1.4em; 
            }
            
            .info .channel {
                font-size: 1.2em;
            }
            
            .info .batch {
                font-size: 1em;
            }
            
            .controls button {
                width: 40px;
                height: 40px;
            }
            
            .controls svg {
                width: 20px;
                height: 20px;
            }
        }
        
        /* Developer Notification */
        .dev-notification {
            position: fixed;
            bottom: 20px;
            right: -400px;
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            padding: 15px 20px;
            border-radius: 50px;
            box-shadow: 0 8px 25px rgba(30, 64, 175, 0.3);
            z-index: 1000;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: flex;
            align-items: center;
            gap: 12px;
            backdrop-filter: blur(10px);
            max-width: 350px;
        }
        
        .dev-notification.show {
            right: 20px;
        }
        
        .dev-notification:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 35px rgba(30, 64, 175, 0.4);
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
        }
        
        .dev-notification .dev-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            animation: pulse 2s ease-in-out infinite;
        }
        
        .dev-notification .dev-text {
            flex: 1;
            font-size: 0.9em;
            font-weight: 500;
            line-height: 1.3;
        }
        
        .dev-notification .dev-text .highlight {
            color: #fbbf24;
            font-weight: 700;
        }
        
        .dev-notification .telegram-icon {
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1em;
            transition: all 0.3s ease;
        }
        
        .dev-notification:hover .telegram-icon {
            background: #0088cc;
            transform: scale(1.1);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @media (max-width: 768px) {
            .dev-notification {
                bottom: 15px;
                right: -350px;
                padding: 12px 16px;
                max-width: 300px;
            }
            
            .dev-notification.show {
                right: 15px;
            }
            
            .dev-notification .dev-icon {
                width: 35px;
                height: 35px;
                font-size: 1.1em;
            }
            
            .dev-notification .dev-text {
                font-size: 0.85em;
            }
            
            .dev-notification .telegram-icon {
                width: 28px;
                height: 28px;
                font-size: 0.9em;
            }
        }
        
        @media (max-width: 480px) {
            .dev-notification {
                bottom: 10px;
                right: -320px;
                padding: 10px 14px;
                max-width: 280px;
            }
            
            .dev-notification.show {
                right: 10px;
            }
            
            .dev-notification .dev-icon {
                width: 30px;
                height: 30px;
                font-size: 1em;
            }
            
            .dev-notification .dev-text {
                font-size: 0.8em;
            }
            
            .dev-notification .telegram-icon {
                width: 25px;
                height: 25px;
                font-size: 0.8em;
            }
        }
        
        .live-indicator {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #a21caf 0%, #c026d3 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(162, 28, 175, 0.18);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .viewer-count {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(162, 28, 175, 0.90);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85em;
            z-index: 10;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>
<!-- Sticky Header -->
<header class="header">
    <div class="header-content">
        <div class="header-left">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-video"></i>
                </div>
                <span>STUDY-WORLD</span>
            </div>
        </div>
        <div class="header-right">
            <a href="#" class="header-btn" onclick="window.location.reload()">
                <i class="fas fa-redo"></i>
                Refresh
            </a>
        </div>
    </div>
</header>

<div class="container">
    <h2>
        <i class="fas fa-play-circle"></i>
        STUDY WORLD
        <i class="fas fa-play-circle"></i>
    </h2>
                    <div class="info">
            <div class="channel">
                <i class="fas fa-tv"></i>
                Udaan Goat            </div>
            <div class="batch">
                <i class="fas fa-book"></i>
                udaangoat            </div>
        </div>
                <div class="player-wrapper">
            <div class="video-container">
                <video id="video" playsinline preload="metadata" controls="false"></video>
                <div class="loading-screen" id="loadingScreen">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Loading Stream</div>
                    <div class="loading-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <div class="loading-progress">
                        <div class="loading-progress-bar"></div>
                    </div>
                </div>
                <div class="live-indicator">
                    <i class="fas fa-circle"></i>
                    LIVE
                </div>
                <div class="viewer-count">
                    <i class="fas fa-users"></i>
                    <span id="viewerCount">0</span> watching
                </div>
            </div>
            <div class="controls" id="controls" style="display:none">
                <button id="playpause" title="Play/Pause">
                    <svg id="icon-play" viewBox="0 0 24 24"><polygon points="6,4 20,12 6,20"/></svg>
                    <svg id="icon-pause" viewBox="0 0 24 24" style="display:none"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>
                </button>
                <div class="rewind-forward">
                    <button id="rewind" title="Rewind 10s">
                        <svg viewBox="0 0 24 24"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z"/></svg>
                    </button>
                    <button id="forward" title="Forward 10s">
                        <svg viewBox="0 0 24 24"><path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" transform="scale(-1, 1) translate(-24, 0)"/></svg>
                    </button>
                </div>
                <span class="time" id="current">00:00</span>
                <input type="range" id="seek" min="0" max="100" value="0">
                <span class="time" id="duration">00:00</span>
                <button id="settings" title="Settings">
                    <svg viewBox="0 0 24 24"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
                </button>
                <button id="fullscreen" title="Fullscreen">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="2"/><rect x="3" y="3" width="2" height="7"/><rect x="14" y="3" width="7" height="2"/><rect x="19" y="3" width="2" height="7"/><rect x="3" y="19" width="7" height="2"/><rect x="3" y="14" width="2" height="7"/><rect x="14" y="19" width="7" height="2"/><rect x="19" y="14" width="2" height="7"/></svg>
                </button>
            </div>
        </div>
        
        <!-- Settings Menu -->
        <div class="settings-menu" id="settingsMenu" style="display:none">
            <div class="settings-content">
                <div class="settings-header">
                    <h3>
                        <i class="fas fa-cog"></i>
                        Settings
                    </h3>
                    <button id="closeSettings" class="close-btn">Ã—</button>
                </div>
                <div class="settings-option">
                    <label>
                        <i class="fas fa-video"></i>
                        Quality:
                    </label>
                    <select id="qualitySelect">
                        <option value="auto">Auto</option>
                    </select>
                </div>
                <div class="settings-option">
                    <label>
                        <i class="fas fa-forward"></i>
                        Playback Speed:
                    </label>
                    <select id="speedSelect">
                        <option value="0.5">0.5x</option>
                        <option value="0.75">0.75x</option>
                        <option value="1" selected>1x</option>
                        <option value="1.25">1.25x</option>
                        <option value="1.5">1.5x</option>
                        <option value="2">2x</option>
                    </select>
                </div>
            </div>
        </div>
        
                
        <script>
        var video = document.getElementById('video');
        var controls = document.getElementById('controls');
        var playpause = document.getElementById('playpause');
        var iconPlay = document.getElementById('icon-play');
        var iconPause = document.getElementById('icon-pause');
        var settings = document.getElementById('settings');
        var settingsMenu = document.getElementById('settingsMenu');
        var closeSettings = document.getElementById('closeSettings');
        var qualitySelect = document.getElementById('qualitySelect');
        var speedSelect = document.getElementById('speedSelect');
        var seek = document.getElementById('seek');
        var current = document.getElementById('current');
        var duration = document.getElementById('duration');
        var fullscreen = document.getElementById('fullscreen');
        var rewind = document.getElementById('rewind');
        var forward = document.getElementById('forward');
        var viewerCount = document.getElementById('viewerCount');
        var loadingScreen = document.getElementById('loadingScreen');
        var isUserInteracted = false;
        var videoSrc = "https:\/\/d2sysh6hkjd92i.cloudfront.net\/index.m3u8?Signature=Gdqyv0cykMORoW0ODYq4h7jxW5aKUZljISiOolQ0yi0N%7EKDV0TpxUsaC0hSkkxIapHvmCoBap1wwcdgk7opTI29WWWvE7lRwKYPumwiZL74xXJS8OyhXlZGxZxnYHWRmksXjUjMSu1rFhOEujxe4ZmiHTmSv1fDpsLEmMMh3vFnyFpp0s-HXNhJ6zxYl9WBxSBgXDY0ivzFI6Lo5pomzMRPkJpQ5oJ2oolVNEDB17gMq-7qSIzOB9gEctW1BEf%7EBjqGrU72TkhHPLhR2SzQvEZ5wNGM36QiJpMvrCSUiEDreHMLMPlXdsmhPWKhj%7EhAghKQ7yYjIG9kQ2eFQ%7E7%7EigA__&Key-Pair-Id=APKAXVKMENFCRKTG5XE2&Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6Ly9kMnN5c2g2aGtqZDkyaS5jbG91ZGZyb250Lm5ldC8qIiwiQ29uZGl0aW9uIjp7IkRhdGVMZXNzVGhhbiI6eyJBV1M6RXBvY2hUaW1lIjoxNzUxMzA0NDg1fX19XX0_";
        var hls;

        // Real viewer count
        function updateViewerCount() {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', 'viewers.php?batch=' + encodeURIComponent("udaangoat"), true);
            xhr.onload = function() {
                if (xhr.status === 200) {
                    viewerCount.textContent = xhr.responseText;
                }
            };
            xhr.send();
        }
        setInterval(updateViewerCount, 5000);
        updateViewerCount();

        // Hide loading screen
        function hideLoading() {
            loadingScreen.style.opacity = '0';
            setTimeout(function() {
                loadingScreen.style.display = 'none';
                console.log('Loading screen hidden');
            }, 500);
        }

        // Show loading screen
        function showLoading() {
            loadingScreen.style.display = 'flex';
            loadingScreen.style.opacity = '1';
            console.log('Loading screen shown');
        }

        // Update loading text
        function updateLoadingText(text) {
            var loadingText = loadingScreen.querySelector('.loading-text');
            loadingText.textContent = text;
            console.log('Loading text updated:', text);
        }

        // HLS setup with better configuration and loading states
        if (Hls.isSupported()) {
            updateLoadingText('Initializing Player...');
            
            var hls = new Hls({
                maxBufferLength: 30,
                maxMaxBufferLength: 60,
                maxBufferSize: 60 * 1000 * 1000, // 60MB
                maxBufferHole: 0.5,
                lowLatencyMode: false,
                backBufferLength: 90,
                enableWorker: true,
                startLevel: -1, // Auto quality selection
                abrEwmaDefaultEstimate: 500000, // 500kbps default bandwidth estimate
                abrBandWidthFactor: 0.95,
                abrBandWidthUpFactor: 0.7,
                xhrSetup: function(xhr, url) {
                    // Extract signed parameters from the main manifest URL
                    var mainUrl = videoSrc;
                    var urlObj = new URL(mainUrl);
                    var signature = urlObj.searchParams.get('Signature');
                    var keyPairId = urlObj.searchParams.get('Key-Pair-Id');
                    var policy = urlObj.searchParams.get('Policy');
                    
                    // If we have signed parameters, append them to segment requests
                    if (signature && keyPairId && policy) {
                        var segmentUrl = new URL(url);
                        segmentUrl.searchParams.set('Signature', signature);
                        segmentUrl.searchParams.set('Key-Pair-Id', keyPairId);
                        segmentUrl.searchParams.set('Policy', policy);
                        xhr.open('GET', segmentUrl.toString(), true);
                    }
                }
            });
            
            updateLoadingText('Loading Stream...');
            hls.loadSource(videoSrc);
            hls.attachMedia(video);
            
            hls.on(Hls.Events.MANIFEST_LOADING, function() {
                updateLoadingText('Loading Stream Manifest...');
            });
            
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                updateLoadingText('Stream Ready!');
                controls.style.display = 'flex';
                setTimeout(hideLoading, 1000);
            });
            
            hls.on(Hls.Events.LEVEL_LOADING, function() {
                updateLoadingText('Loading Video Quality...');
            });
            
            hls.on(Hls.Events.LEVEL_LOADED, function() {
                updateLoadingText('Video Quality Loaded...');
            });
            
            hls.on(Hls.Events.FRAG_LOADING, function() {
                updateLoadingText('Loading Video Segment...');
            });
            
            hls.on(Hls.Events.ERROR, function(event, data) {
                console.log('HLS Error:', data);
                if (data.fatal) {
                    switch(data.type) {
                        case Hls.ErrorTypes.NETWORK_ERROR:
                            updateLoadingText('Network Error - Retrying...');
                            console.log('Network error, trying to recover...');
                            hls.startLoad();
                            break;
                        case Hls.ErrorTypes.MEDIA_ERROR:
                            updateLoadingText('Media Error - Recovering...');
                            console.log('Media error, trying to recover...');
                            hls.recoverMediaError();
                            break;
                        default:
                            updateLoadingText('Error - Please Refresh Page');
                            console.log('Fatal error, destroying...');
                            hls.destroy();
                            break;
                    }
                }
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            updateLoadingText('Loading Stream...');
            video.src = videoSrc;
            video.addEventListener('loadedmetadata', function() {
                updateLoadingText('Stream Ready!');
                controls.style.display = 'flex';
                setTimeout(hideLoading, 1000);
            });
            video.addEventListener('error', function() {
                updateLoadingText('Error Loading Stream');
            });
        } else {
            updateLoadingText('Browser Not Supported');
            document.write('<div class="error">Your browser does not support HLS playback.</div>');
        }

        // Hide default controls
        video.controls = false;
        video.preload = 'metadata'; // Preload metadata for faster start
        video.playsInline = true;
        video.autoplay = false;

        // Telegram in-app browser: require user gesture to start
        function userStart() {
            if (!isUserInteracted) {
                video.play().then(function() {
                    console.log('Video started playing successfully');
                }).catch(function(error) {
                    console.log('Error playing video:', error);
                });
                isUserInteracted = true;
            }
        }
        video.addEventListener('click', userStart);
        controls.addEventListener('click', userStart);

        // Play/Pause
        playpause.onclick = function() {
            if (video.paused) {
                video.play().then(function() {
                    console.log('Video resumed successfully');
                }).catch(function(error) {
                    console.log('Error resuming video:', error);
                });
            } else {
                video.pause();
            }
        };
        video.addEventListener('play', function() {
            iconPlay.style.display = 'none';
            iconPause.style.display = '';
        });
        video.addEventListener('pause', function() {
            iconPlay.style.display = '';
            iconPause.style.display = 'none';
        });

        // Rewind/Forward functionality
        rewind.onclick = function() {
            video.currentTime = Math.max(0, video.currentTime - 10);
        };
        
        forward.onclick = function() {
            video.currentTime = Math.min(video.duration, video.currentTime + 10);
        };

        // Fullscreen
        fullscreen.onclick = function() {
            if (document.fullscreenElement) {
                document.exitFullscreen();
            } else {
                video.requestFullscreen();
            }
        };

        // Format time helper
        function formatTime(sec) {
            if (isNaN(sec)) return '00:00';
            var m = Math.floor(sec / 60);
            var s = Math.floor(sec % 60);
            return (m < 10 ? '0' : '') + m + ':' + (s < 10 ? '0' : '') + s;
        }
        
        // Set initial state
        iconPlay.style.display = '';
        iconPause.style.display = 'none';

        // Settings functionality
        settings.onclick = function() {
            settingsMenu.style.display = 'block';
        };
        
        closeSettings.onclick = function() {
            settingsMenu.style.display = 'none';
        };
        
        // Close settings when clicking outside
        settingsMenu.onclick = function(e) {
            if (e.target === settingsMenu) {
                settingsMenu.style.display = 'none';
            }
        };
        
        // Quality selection
        qualitySelect.onchange = function() {
            if (hls && this.value !== 'auto') {
                hls.currentLevel = parseInt(this.value);
            } else if (hls) {
                hls.currentLevel = -1; // Auto
            }
        };
        
        // Speed selection
        speedSelect.onchange = function() {
            video.playbackRate = parseFloat(this.value);
        };
        
        // Populate quality options when manifest is loaded
        if (Hls.isSupported()) {
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                var levels = hls.levels;
                qualitySelect.innerHTML = '<option value="auto">Auto</option>';
                for (var i = 0; i < levels.length; i++) {
                    var level = levels[i];
                    var option = document.createElement('option');
                    option.value = i;
                    option.textContent = level.height + 'p (' + Math.round(level.bitrate / 1000) + 'kbps)';
                    qualitySelect.appendChild(option);
                }
            });
        }

        // Seek bar
        video.addEventListener('timeupdate', function() {
            seek.value = video.duration ? (video.currentTime / video.duration) * 100 : 0;
            current.textContent = formatTime(video.currentTime);
        });
        
        video.addEventListener('durationchange', function() {
            duration.textContent = formatTime(video.duration);
        });
        
        seek.oninput = function() {
            if (video.duration) {
                video.currentTime = (seek.value / 100) * video.duration;
            }
        };
        </script>
    </div>

<!-- Developer Notification -->
<div class="dev-notification" id="devNotification">
    <div class="dev-icon">
        <i class="fas fa-code"></i>
    </div>
    <div class="dev-text">
        Developed by <span class="highlight">Krishan Bhai</span>
    </div>
    <div class="telegram-icon">
        <i class="fab fa-telegram-plane"></i>
    </div>
</div>

<script>
// Developer notification animation
document.addEventListener('DOMContentLoaded', function() {
    const devNotification = document.getElementById('devNotification');
    
    // Show notification after 3 seconds
    setTimeout(function() {
        devNotification.classList.add('show');
    }, 3000);
    
    // Click to redirect to Telegram Bot
    devNotification.addEventListener('click', function() {
        window.open('https://t.me/Anup_Mishra_ji_bot', '_blank');
    });
    
    // Hide notification after 10 seconds
    setTimeout(function() {
        devNotification.classList.remove('show');
    }, 10000);
});
</script>

</body>
</html> 